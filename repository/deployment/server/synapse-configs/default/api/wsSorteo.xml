<?xml version="1.0" encoding="UTF-8"?><api xmlns="http://ws.apache.org/ns/synapse" name="wsSorteo" context="/wsSorteoFovissste">
    <resource methods="POST" url-mapping="/altaOtorgamientoPuntuaje">
        <inSequence>
            <log level="full"/>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:altaOtorgamientoPuntuaje xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_KEY&gt;{payload.claveSorteo}&lt;/dat:P_KEY&gt;         &lt;dat:P_DESCRIPTION&gt;{payload.descripcionSorteo}&lt;/dat:P_DESCRIPTION&gt;         &lt;dat:P_YEAR&gt;{payload.anio}&lt;/dat:P_YEAR&gt;         &lt;dat:P_NUMBER&gt;{payload.numero}&lt;/dat:P_NUMBER&gt;         &lt;dat:P_USER_ID&gt;{payload.idUsuario}&lt;/dat:P_USER_ID&gt;         &lt;dat:P_CREDIT_NUMBER&gt;{payload.numeroCreditos}&lt;/dat:P_CREDIT_NUMBER&gt;      &lt;/dat:altaOtorgamientoPuntuaje&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:altaOtorgamientoPuntuaje"/>
            <log level="full"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="POST" url-mapping="/consultaHomonimias">
        <inSequence>
            <log level="full"/>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:consultaHomonimias xmlns:dat="http://ws.wso2.org/dataservice"&gt;                   &lt;dat:P_ACTIVE_DRAW_ID&gt;{payload.depuracionId}&lt;/dat:P_ACTIVE_DRAW_ID&gt;&lt;/dat:consultaHomonimias&gt;;print(payload.rfc);if(typeof(payload.rfc) !== 'undefined'){     var rfcXml = &lt;dat:P_RFC xmlns:dat="http://ws.wso2.org/dataservice"&gt;{payload.rfc}&lt;/dat:P_RFC&gt;;    newPayload.appendChild(rfcXml);  }    if(typeof(payload.statusId) !== 'undefined'){    var statusXml = &lt;dat:P_STATUS_ID xmlns:dat="http://ws.wso2.org/dataservice"&gt;{payload.statusId}&lt;/dat:P_STATUS_ID&gt;;        newPayload.appendChild(statusXml);}   if(typeof(payload.revisado) !== 'undefined'){   var revisadoXml = &lt;dat:P_REVISED xmlns:dat="http://ws.wso2.org/dataservice"&gt;{payload.revisado}&lt;/dat:P_REVISED&gt;;      newPayload.appendChild(revisadoXml);}    if(typeof(payload.fechaAlta) !== 'undefined'){   var fechaXml = &lt;dat:P_DATE xmlns:dat="http://ws.wso2.org/dataservice"&gt;{payload.fechaAlta}&lt;/dat:P_DATE&gt;;   newPayload.appendChild(fechaXml);  }mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:consultaHomonimias"/>
            <log level="full"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaUltimoNumeroSorteo/{anio}">
        <inSequence>
            <script language="js">var anio = mc.getProperty('uri.var.anio');var newPayload = &lt;dat:consultaUltimoNumeroSorteo xmlns:dat="http://ws.wso2.org/dataservice"&gt;                   &lt;dat:P_YEAR&gt;{anio}&lt;/dat:P_YEAR&gt;                 &lt;/dat:consultaUltimoNumeroSorteo&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:consultaUltimoNumeroSorteo"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" url-mapping="/consultaSorteos">
        <inSequence>
            <script language="js">var newPayload = &lt;dat:consultaSorteos xmlns:dat="http://ws.wso2.org/dataservice" /&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:consultaSorteos"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaSorteo/{idSorteo}">
        <inSequence>
            <script language="js">var idSorteo = mc.getProperty('uri.var.idSorteo');var newPayload = &lt;dat:consultaSorteo xmlns:dat="http://ws.wso2.org/dataservice"&gt;                     &lt;dat:P_DRAWING_ID&gt;{idSorteo}&lt;/dat:P_DRAWING_ID&gt;                 &lt;/dat:consultaSorteo&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:consultaSorteo"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="PUT" url-mapping="/editarSorteo">
        <inSequence>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:editarSorteo xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_DRAWING_ID&gt;{payload.idSorteo}&lt;/dat:P_DRAWING_ID&gt;         &lt;dat:P_KEY&gt;{payload.claveSorteo}&lt;/dat:P_KEY&gt;         &lt;dat:P_DESCRIPTION&gt;{payload.descripcionSorteo}&lt;/dat:P_DESCRIPTION&gt;         &lt;dat:P_YEAR&gt;{payload.anio}&lt;/dat:P_YEAR&gt;         &lt;dat:P_STATUS_ID&gt;{payload.idStatus}&lt;/dat:P_STATUS_ID&gt;         &lt;dat:P_ACCOUNT_STATUS&gt;{payload.idStatusCuenta}&lt;/dat:P_ACCOUNT_STATUS&gt;         &lt;dat:P_QUERY_STATUS&gt;{payload.idStatusConsulta}&lt;/dat:P_QUERY_STATUS&gt;         &lt;dat:P_CHANGE_USER_ID&gt;{payload.idUsuario}&lt;/dat:P_CHANGE_USER_ID&gt;         &lt;dat:P_START_DATE&gt;{payload.fechaInicio}&lt;/dat:P_START_DATE&gt;         &lt;dat:P_END_DATE&gt;{payload.fechaFin}&lt;/dat:P_END_DATE&gt;         &lt;dat:P_CREDIT_NUMBER&gt;{payload.numeroCreditos}&lt;/dat:P_CREDIT_NUMBER&gt;      &lt;/dat:editarSorteo&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:editarSorteo"/>
            <log level="full"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaCreditoCurp/{curp}">
        <inSequence>
            <script language="js">var curp = mc.getProperty('uri.var.curp');var payload = &lt;dat:consultaCreditoCurp xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_CURP&gt;{curp}&lt;/dat:P_CURP&gt;         &lt;dat:P_STATUS_ID&gt;0&lt;/dat:P_STATUS_ID&gt;      &lt;/dat:consultaCreditoCurp&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaCreditoCurp"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaCreditoDetalle/{idCredito}">
        <inSequence>
            <script language="js">var idCredito= mc.getProperty('uri.var.idCredito');var payload = &lt;dat:consultaCreditoDetalle xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_REQUEST_ID&gt;{idCredito}&lt;/dat:P_REQUEST_ID&gt;      &lt;/dat:consultaCreditoDetalle&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaCreditoDetalle"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaTitularInformacionPrincipal/{idPersona}">
        <inSequence>
            <script language="js">var idPersona = mc.getProperty('uri.var.idPersona');var payload = &lt;dat:consultaTitularInformacionPrincipal xmlns:dat="http://ws.wso2.org/dataservice"&gt;                 &lt;dat:P_PERSON_ID&gt;{idPersona}&lt;/dat:P_PERSON_ID&gt;              &lt;/dat:consultaTitularInformacionPrincipal&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaTitularInformacionPrincipal"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaTitularDireccion/{idPersona}">
        <inSequence>
            <script language="js">var idPersona = mc.getProperty('uri.var.idPersona');var payload = &lt;dat:consultaTitularDireccion xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_PERSON_ID&gt;{idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:consultaTitularDireccion&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaTitularDireccion"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaTitularDireccionAdicional/{idCredito}">
        <inSequence>
            <script language="js">var idCredito = mc.getProperty('uri.var.idCredito');var payload = &lt;dat:consultaTitularDireccionAdicional xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_REQUEST_ID&gt;{idCredito }&lt;/dat:P_REQUEST_ID&gt;      &lt;/dat:consultaTitularDireccionAdicional&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaTitularDireccionAdicional"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaTitularInformacionAdicional/{idCredito}">
        <inSequence>
            <script language="js">var idCredito = mc.getProperty('uri.var.idCredito');var payload = &lt;dat:consultaTitularInformacionAdicional xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_REQUEST_ID&gt;{idCredito}&lt;/dat:P_REQUEST_ID&gt;      &lt;/dat:consultaTitularInformacionAdicional&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaTitularInformacionAdicional"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaTitularDependencias/{idPersona}">
        <inSequence>
            <script language="js">var idPersona = mc.getProperty('uri.var.idPersona');var payload = &lt;dat:consultaTitularDependencias xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_PERSON_ID&gt;{idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:consultaTitularDependencias&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaTitularDependencias"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaTitularCotizacionFoviissste/{idPersona}">
        <inSequence>
            <script language="js">var idPersona = mc.getProperty('uri.var.idPersona');var payload = &lt;dat:consultaTitularCotizacionFoviissste xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_PERSON_ID&gt;{idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:consultaTitularCotizacionFoviissste&gt;;   mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaTitularCotizacionFoviissste"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaConyugeInformacion/{idPersona}">
        <inSequence>
            <script language="js">var idPersona = mc.getProperty('uri.var.idPersona');var payload = &lt;dat:consultaConyugeInformacion xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_PERSON_ID&gt;{idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:consultaConyugeInformacion&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaConyugeInformacion"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaConyugeDependecias/{idPersona}">
        <inSequence>
            <script language="js">var idPersona  = mc.getProperty('uri.var.idPersona');var payload = &lt;dat:consultaConyugeDependecias xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_PERSON_ID&gt;{idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:consultaConyugeDependecias&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaConyugeDependecias"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="PUT" url-mapping="/actualizacionTitular">
        <inSequence>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:actualizacionTitular xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_SINGLE_MOTHER_ID&gt;{payload.madreSolteraId}&lt;/dat:P_SINGLE_MOTHER_ID&gt;         &lt;dat:P_LADA_CODE&gt;{payload.lada}&lt;/dat:P_LADA_CODE&gt;         &lt;dat:P_PHONE_NUMBER&gt;{payload.numeroTelefonico}&lt;/dat:P_PHONE_NUMBER&gt;         &lt;dat:P_MOBILE_PHONE&gt;{payload.numeroCelular}&lt;/dat:P_MOBILE_PHONE&gt;         &lt;dat:P_EMAIL&gt;{payload.correoElectronico}&lt;/dat:P_EMAIL&gt;         &lt;dat:P_CIVIL_STATUS_ID&gt;{payload.estadoCivilId}&lt;/dat:P_CIVIL_STATUS_ID&gt;         &lt;dat:P_MAX_AMOUNT_REACH_PESOS&gt;{payload.Titular.montoMaximoAlcanzadoPesos}&lt;/dat:P_MAX_AMOUNT_REACH_PESOS&gt;         &lt;dat:P_MAX_AMT_REACH_MIN_SAL&gt;{payload.montoMaximoAlcanzadoSalariosMinimos}&lt;/dat:P_MAX_AMT_REACH_MIN_SAL&gt;         &lt;dat:P_BALANCE&gt;{payload.saldoSar}&lt;/dat:P_BALANCE&gt;         &lt;dat:P_MAX_AMT_TOTAL&gt;{payload.montoMaximoTotal}&lt;/dat:P_MAX_AMT_TOTAL&gt;         &lt;dat:P_SALARY_LEVEL&gt;{payload.nivelSalarial}&lt;/dat:P_SALARY_LEVEL&gt;         &lt;dat:P_USER_ID&gt;{payload.idUsuario}&lt;/dat:P_USER_ID&gt;         &lt;dat:P_PERSON_ID&gt;{payload.idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:actualizacionTitular&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:actualizacionTitular"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="PUT" url-mapping="/actualizacionCredito">
        <inSequence>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:actualizacionCredito xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_REQUEST_TYPE_ID&gt;{payload.idTipoSolicitud}&lt;/dat:P_REQUEST_TYPE_ID&gt;         &lt;dat:P_MUNICIPALITY_ID&gt;{payload.idMunicipio}&lt;/dat:P_MUNICIPALITY_ID&gt;         &lt;dat:P_ADQ_TYPE_ID&gt;{payload.tipoAdquisicionId}&lt;/dat:P_ADQ_TYPE_ID&gt;         &lt;dat:P_CREDIT_LINE&gt;{payload.lineaCreditoId}&lt;/dat:P_CREDIT_LINE&gt;         &lt;dat:P_MAX_AMT_REACHED&gt;{payload.montoMaximoAlcanzadoPesos}&lt;/dat:P_MAX_AMT_REACHED&gt;         &lt;dat:P_MAX_AMT_REACH_MIN_SAL&gt;{payload.montoMaximoAlcanzadoSalariosMinimos}&lt;/dat:P_MAX_AMT_REACH_MIN_SAL&gt;         &lt;dat:P_SAR_BALANCE&gt;{payload.saldoSar}&lt;/dat:P_SAR_BALANCE&gt;         &lt;dat:P_MAX_TOTAL_AMT&gt;{payload.montoMaximoTotal}&lt;/dat:P_MAX_TOTAL_AMT&gt;         &lt;dat:P_MIN_SAL_VALUE&gt;{payload.valorSalarioMinimo}&lt;/dat:P_MIN_SAL_VALUE&gt;         &lt;dat:P_HOUSING_TYPE_ID&gt;{payload.tipoViviendaId}&lt;/dat:P_HOUSING_TYPE_ID&gt;         &lt;dat:P_HOMO_RFC_BLOCK&gt;{payload.posibleHomonimiaRfcBloqueado}&lt;/dat:P_HOMO_RFC_BLOCK&gt;         &lt;dat:P_HOMO_DRAW&gt;{payload.posibleHomonimiaSorteos}&lt;/dat:P_HOMO_DRAW&gt;         &lt;dat:P_HOMO_ORIGIN&gt;{payload.posibleHomonimiaOriginacion}&lt;/dat:P_HOMO_ORIGIN&gt;         &lt;dat:P_HOMO_PORTFOLIO&gt;{payload.posibleHomonimiaCartera}&lt;/dat:P_HOMO_PORTFOLIO&gt;         &lt;dat:P_USER_ID&gt;{payload.idUsuario}&lt;/dat:P_USER_ID&gt;         &lt;dat:P_REQUEST_ID&gt;{payload.idCredito}&lt;/dat:P_REQUEST_ID&gt;      &lt;/dat:actualizacionCredito&gt;;if(typeof(payload.tipoConstruccionLetra) !== 'undefined'){    var tipoConstruccionLetraXml = &lt;dat:P_CONSTR_TYPE xmlns:dat="http://ws.wso2.org/dataservice"&gt;{payload.tipoConstruccionLetra}&lt;/dat:P_CONSTR_TYPE&gt;;   newPayload.appendChild(tipoConstruccionLetraXml);}mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:actualizacionCredito"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="PUT" url-mapping="/actualizacionDireccion">
        <inSequence>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:actualizaDireccionTitular xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_MUNICIPALITY_ID&gt;{payload.idMunicipio}&lt;/dat:P_MUNICIPALITY_ID&gt;         &lt;dat:P_STREET&gt;{payload.calle}&lt;/dat:P_STREET&gt;         &lt;dat:P_EXT_NUMBER&gt;{payload.numeroExterior}&lt;/dat:P_EXT_NUMBER&gt;         &lt;dat:P_INT_NUMBER&gt;{payload.numeroInterior}&lt;/dat:P_INT_NUMBER&gt;         &lt;dat:P_ZIP&gt;{payload.codigoPostal}&lt;/dat:P_ZIP&gt;         &lt;dat:P_NEIGHBORHOOD&gt;{payload.colonia}&lt;/dat:P_NEIGHBORHOOD&gt;         &lt;dat:P_USER_ID&gt;{payload.idUsuario}&lt;/dat:P_USER_ID&gt;         &lt;dat:P_PERSON_ID&gt;{payload.idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:actualizaDireccionTitular&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:actualizaDireccionTitular"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaDependencia/{IdIcp}">
        <inSequence>
            <script language="js">var IdIcp = mc.getProperty('uri.var.IdIcp');var payload = &lt;dat:consultaDependenciaId xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_DEPENDENCY_ID&gt;{IdIcp}&lt;/dat:P_DEPENDENCY_ID&gt;      &lt;/dat:consultaDependenciaId&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaDependenciaId"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="POST" url-mapping="/insertaBitocora">
        <inSequence>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:InsertaBitacora xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:N_Curp&gt;{payload.CURP}&lt;/dat:N_Curp&gt;         &lt;dat:N_IPInt&gt;{payload.ipInt}&lt;/dat:N_IPInt&gt;         &lt;dat:N_IPPub&gt;{payload.ipInt}&lt;/dat:N_IPPub&gt;         &lt;dat:N_Host&gt;{payload.host}&lt;/dat:N_Host&gt;         &lt;dat:N_MAC&gt;{payload.Mac}&lt;/dat:N_MAC&gt;      &lt;/dat:InsertaBitacora&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:InsertaBitacora"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaCoordinador/{coordinadorId}/{nombramientoId}">
        <inSequence>
            <script language="js">var coordinadorId = mc.getProperty('uri.var.coordinadorId');var nombramientoId = mc.getProperty('uri.var.nombramientoId');var payload =&lt;dat:ConsultaCoordinador xmlns:dat="http://ws.wso2.org/dataservice"&gt;     &lt;dat:P_COORDINATOR_ID&gt;{coordinadorId}&lt;/dat:P_COORDINATOR_ID&gt;     &lt;dat:P_NOMBRAMIENTO_ID&gt;{nombramientoId}&lt;/dat:P_NOMBRAMIENTO_ID&gt;     &lt;/dat:ConsultaCoordinador&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:ConsultaCoordinador"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="GET" uri-template="/consultaSeccionDomicilio/{IdIcp}">
        <inSequence>
            <script language="js">var idIcp = mc.getProperty('uri.var.IdIcp');var payload =&lt;dat:consultaSeccionDomicilio xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_DEPENDENCY_ID&gt;{idIcp}&lt;/dat:P_DEPENDENCY_ID&gt;      &lt;/dat:consultaSeccionDomicilio&gt;;mc.setPayloadXML(payload);</script>
            <header name="Action" scope="default" value="urn:consultaSeccionDomicilio"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
    <resource methods="PUT" url-mapping="/actualizaMunicipioSorteo">
        <inSequence>
            <script language="js">var payload = mc.getPayloadJSON();var newPayload = &lt;dat:actualizaMunicipioSorteo xmlns:dat="http://ws.wso2.org/dataservice"&gt;         &lt;dat:P_DEPENDENCY_ID&gt;{payload.IdIcp}&lt;/dat:P_DEPENDENCY_ID&gt;         &lt;dat:P_PERSON_ID&gt;{payload.idPersona}&lt;/dat:P_PERSON_ID&gt;      &lt;/dat:actualizaMunicipioSorteo&gt;;mc.setPayloadXML(newPayload);</script>
            <header name="Action" scope="default" value="urn:actualizaMunicipioSorteo"/>
            <send>
                <endpoint key="SORTEO"/>
            </send>
        </inSequence>
        <outSequence>
            <property name="messageType" value="application/json" scope="axis2" type="STRING"/>
            <send/>
        </outSequence>
    </resource>
</api>
